// Reference:  https://docs.typo3.org/typo3cms/TyposcriptReference/ContentObjects/Fluidtemplate/
//============================================================

page.10 = FLUIDTEMPLATE
page.10 {
    layoutRootPaths.10 = {$settings.path.html}/layouts/
    partialRootPaths.10 = {$settings.path.html}/partials/
    templateRootPaths.10 = {$settings.path.html}/templates/

    templateName = TEXT
    templateName.stdWrap {
        cObject = TEXT
        cObject {
            data = levelfield:-2,backend_layout_next_level,slide
            override.field = backend_layout

            // Automatically get layout name from layout filename, without "pagets__" prefix.
            // For example: pagets__subpage -> layouts/Subpage.html
            split {
                token = pagets__
                1.current = 1
                1.wrap = |
            }
        }

        // Default layout
        ifEmpty = Subpage.html
    }

    // Variables used in Fluid template files
    variables {
        content-main < styles.content.get
        content-main {
            select.where = colPos = 0
        }

        content-aside < styles.content.get
        content-aside {
            select.where = colPos = 1
            slide = -1
        }

        current-year = TEXT
        current-year {
            data = date:U
            strftime = %Y
        }
    }

    // Example for stdWrap replacement
    stdWrap.replacement {
        1 {
            search = ###CURRENT_YEAR###
            replace {
                data = date:U
                strftime = %Y
            }
        }
    }

    settings {
        path {
            vendors = {$settings.path.vendors}
            css = {$settings.path.css}
            js = {$settings.path.js}
            vendors = {$settings.path.vendors}
            images = {$settings.path.images}
            l10nFile = {$settings.path.l10nFile}
        }
    }
}